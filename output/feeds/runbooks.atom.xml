<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>serialexperiments - Runbooks</title><link href="/" rel="alternate"></link><link href="/feeds/runbooks.atom.xml" rel="self"></link><id>/</id><updated>2020-12-03T00:00:00+00:00</updated><entry><title>runbook - port-forwarding pgadmin</title><link href="/runbook-port-forwarding-pgadmin.html" rel="alternate"></link><published>2020-12-03T00:00:00+00:00</published><updated>2020-12-03T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-03:/runbook-port-forwarding-pgadmin.html</id><summary type="html">&lt;p&gt;run for kubernetes port-forwarding pgadmin&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Issue&lt;/h2&gt;
&lt;p&gt;Youve deployed a RDS instances for your EKS/kubernetes cluster into a private subnet and dont have a bastion up to run pgadmin on.&lt;/p&gt;
&lt;p&gt;You want to connect to a postgres database quickly&lt;/p&gt;
&lt;h2&gt;Solution&lt;/h2&gt;
&lt;p&gt;Bring up a pod with pgadmin (if your running a private EKS you need to use a private ECR)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;kubectl&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="n"&gt;pgadmin&lt;/span&gt; &lt;span class="p"&gt;--&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="n"&gt;dpage&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pgadmin4&lt;/span&gt; &lt;span class="p"&gt;--&lt;/span&gt;&lt;span class="n"&gt;env&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PGADMIN_DEFAULT_EMAIL=admin@admin.com&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;--&lt;/span&gt;&lt;span class="n"&gt;env&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PGADMIN_DEFAULT_PASSWORD=logmein&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;port-forward into pgadmin&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;kubectl&lt;/span&gt; &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="p"&gt;-&lt;/span&gt;&lt;span class="n"&gt;forward&lt;/span&gt; &lt;span class="n"&gt;pgadmin&lt;/span&gt; &lt;span class="m"&gt;8080&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="m"&gt;80&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Delete pod till needed again&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;kubectl&lt;/span&gt; &lt;span class="n"&gt;delete&lt;/span&gt; &lt;span class="n"&gt;pod&lt;/span&gt; &lt;span class="n"&gt;pgadmin&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Runbooks"></category><category term="runbook"></category><category term="k8s"></category></entry></feed>