<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>serialexperiments</title><link href="/" rel="alternate"></link><link href="/feeds/all.atom.xml" rel="self"></link><id>/</id><updated>2020-12-12T00:00:00+00:00</updated><entry><title>vscode plugins sync</title><link href="/vscode-plugins-sync.html" rel="alternate"></link><published>2020-12-12T00:00:00+00:00</published><updated>2020-12-12T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-12:/vscode-plugins-sync.html</id><summary type="html">&lt;p&gt;Steps to sync your vscode plugins across multiple installs&lt;/p&gt;</summary><content type="html"></content><category term="Blog"></category><category term="vscode"></category><category term="github"></category></entry><entry><title>Create a pelican blog</title><link href="/create-a-pelican-blog.html" rel="alternate"></link><published>2020-12-11T00:00:00+00:00</published><updated>2020-12-11T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-11:/create-a-pelican-blog.html</id><summary type="html">&lt;p&gt;Inital steps to setup a pelican blog&lt;/p&gt;</summary><content type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;mkdir blog&lt;/span&gt;
&lt;span class="err"&gt;cd blog&lt;/span&gt;
&lt;span class="err"&gt;python3 &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;setup:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;pip install pelican, Markdown, typogrify&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;create blog:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;pelican-quickstart&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;theme:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;mkdir themes&lt;/span&gt;
&lt;span class="err"&gt;cd themes&lt;/span&gt;
&lt;span class="err"&gt;git clone https://github.com/limbenjamin/voce&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;plugins&lt;/h2&gt;
&lt;p&gt;pip install pelican-gist&lt;/p&gt;
&lt;p&gt;pip freeze &amp;gt; requirements.txt&lt;/p&gt;
&lt;p&gt;run:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;make devserver&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Blog"></category><category term="pelican"></category><category term="python"></category></entry><entry><title>wsl helpful commands</title><link href="/wsl-helpful-commands.html" rel="alternate"></link><published>2020-12-11T00:00:00+00:00</published><updated>2020-12-11T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-11:/wsl-helpful-commands.html</id><summary type="html">&lt;p&gt;Set of helpful wsl commands&lt;/p&gt;</summary><content type="html"></content><category term="Blog"></category><category term="wls"></category><category term="windows"></category></entry><entry><title>vscode terminal set to wsl</title><link href="/vscode-terminal-set-to-wsl.html" rel="alternate"></link><published>2020-12-10T00:00:00+00:00</published><updated>2020-12-10T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-10:/vscode-terminal-set-to-wsl.html</id><summary type="html">&lt;p&gt;configure vscode terminal to use wsl&lt;/p&gt;</summary><content type="html"></content><category term="Blog"></category><category term="vscode"></category><category term="ubuntu"></category></entry><entry><title>Kubernetes workstation setup</title><link href="/kubernetes-workstation-setup.html" rel="alternate"></link><published>2020-12-09T00:00:00+00:00</published><updated>2020-12-09T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-09:/kubernetes-workstation-setup.html</id><summary type="html">&lt;p&gt;My workstation setup for kubernetes&lt;/p&gt;</summary><content type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;brew install kubectl kube-ps1 kubectx octant&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;set up an alias for kubectl&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Blog"></category><category term="kubernetes"></category></entry><entry><title>Quick setup of python virtualenvironment</title><link href="/quick-setup-of-python-virtualenvironment.html" rel="alternate"></link><published>2020-12-07T00:00:00+00:00</published><updated>2020-12-07T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-07:/quick-setup-of-python-virtualenvironment.html</id><summary type="html">&lt;p&gt;Setup python virtualenvironment for windows or ubuntu&lt;/p&gt;</summary><content type="html"></content><category term="Blog"></category><category term="python"></category><category term="ubuntu"></category><category term="windows"></category></entry><entry><title>Installing brew on ubunutu-18</title><link href="/installing-brew-on-ubunutu-18.html" rel="alternate"></link><published>2020-12-06T00:00:00+00:00</published><updated>2020-12-06T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-06:/installing-brew-on-ubunutu-18.html</id><summary type="html">&lt;p&gt;Runbook to install and configure brew for ubuntu-18&lt;/p&gt;</summary><content type="html"></content><category term="Blog"></category><category term="brew"></category><category term="ubuntu"></category></entry><entry><title>Terraform remote statefile creation</title><link href="/terraform-remote-statefile-creation.html" rel="alternate"></link><published>2020-12-04T00:00:00+00:00</published><updated>2020-12-04T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-04:/terraform-remote-statefile-creation.html</id><summary type="html">&lt;p&gt;Terraform code to generate a secure s3 bucket for remote state&lt;/p&gt;</summary><content type="html">&lt;p&gt;When you deploy Terraform you'll want to have a remote state setup to manage team access. For AWS the standard is to use S3 bucket. As you cant store the state of bucket IN the bucket, its one of the only things that you have to leave outside of being controlled via the remote state.&lt;/p&gt;
&lt;p&gt;For our teams we manage this via still creating the s3 bucket in Terraform and keep the code in source control, this is normally stored in a &lt;code&gt;.state&lt;/code&gt; folder along with the other workspaces.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;-&lt;/span&gt; &lt;span class="n"&gt;terraform&lt;/span&gt;
  &lt;span class="p"&gt;-&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;
  &lt;span class="p"&gt;-&lt;/span&gt; &lt;span class="n"&gt;core&lt;/span&gt;
  &lt;span class="p"&gt;-&lt;/span&gt; &lt;span class="n"&gt;eks&lt;/span&gt;
  &lt;span class="p"&gt;-&lt;/span&gt; &lt;span class="n"&gt;rds&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The below is a gist example of the code we use, id suggest also adding a &lt;code&gt;version.tf&lt;/code&gt; in the folder that matches the rest of your workspaces.&lt;/p&gt;
&lt;div class="gist"&gt;
    &lt;script src='https://gist.github.com/b08b80dad659cd549030e5855a798673.js?file=terraform-statefile-bucket.tf'&gt;&lt;/script&gt;
    &lt;noscript&gt;
        &lt;pre&gt;&lt;code&gt;provider "aws" {
    region = "eu-west-2"
    profile = "xxx"
}

variable "env" {
    description = "Name of AWS environment"
    type = string
    default = "xxx"
}

resource "aws_s3_bucket" "terraform_state" {
    bucket = "${var.env}-statefile"

    # Enable versioning
    versioning {
        enabled = true
    }

    #Enable Server Side Encryption by default
    server_side_encryption_configuration {
        rule {
            apply_server_side_encryption_by_default {
                sse_algorithm = "AES256"
            }
        }
    }

}

# Block ALL public access to statefile bucket
resource "aws_s3_bucket_public_access_block" "terraform_state" {
  bucket = aws_s3_bucket.terraform_state.id

  block_public_acls         = true
  block_public_policy       = true
  ignore_public_acls        = true
  restrict_public_buckets   = true
}&lt;/code&gt;&lt;/pre&gt;
    &lt;/noscript&gt;
&lt;/div&gt;</content><category term="DevOps"></category><category term="terraform"></category><category term="gist"></category></entry><entry><title>runbook - port-forwarding pgadmin</title><link href="/runbook-port-forwarding-pgadmin.html" rel="alternate"></link><published>2020-12-03T00:00:00+00:00</published><updated>2020-12-03T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-03:/runbook-port-forwarding-pgadmin.html</id><summary type="html">&lt;p&gt;run for kubernetes port-forwarding pgadmin&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Issue&lt;/h2&gt;
&lt;p&gt;Youve deployed a RDS instances for your EKS/kubernetes cluster into a private subnet and dont have a bastion up to run pgadmin on.&lt;/p&gt;
&lt;p&gt;You want to connect to a postgres database quickly&lt;/p&gt;
&lt;h2&gt;Solution&lt;/h2&gt;
&lt;p&gt;Bring up a pod with pgadmin (if your running a private EKS you need to use a private ECR)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;kubectl&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="n"&gt;pgadmin&lt;/span&gt; &lt;span class="p"&gt;--&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="n"&gt;dpage&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pgadmin4&lt;/span&gt; &lt;span class="p"&gt;--&lt;/span&gt;&lt;span class="n"&gt;env&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PGADMIN_DEFAULT_EMAIL=admin@admin.com&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;--&lt;/span&gt;&lt;span class="n"&gt;env&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PGADMIN_DEFAULT_PASSWORD=logmein&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;port-forward into pgadmin&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;kubectl&lt;/span&gt; &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="p"&gt;-&lt;/span&gt;&lt;span class="n"&gt;forward&lt;/span&gt; &lt;span class="n"&gt;pgadmin&lt;/span&gt; &lt;span class="m"&gt;8080&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="m"&gt;80&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Delete pod till needed again&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;kubectl&lt;/span&gt; &lt;span class="n"&gt;delete&lt;/span&gt; &lt;span class="n"&gt;pod&lt;/span&gt; &lt;span class="n"&gt;pgadmin&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Runbooks"></category><category term="runbook"></category><category term="k8s"></category></entry><entry><title>New blog site</title><link href="/new-blog-site.html" rel="alternate"></link><published>2020-12-02T00:00:00+00:00</published><updated>2020-12-02T00:00:00+00:00</updated><author><name>staggerlee011</name></author><id>tag:None,2020-12-02:/new-blog-site.html</id><summary type="html">&lt;p&gt;Ive moved my blog from wordpress to a pelican&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ive moved my blog from wordpress to a pelican / python static site using the beautiful &lt;a href="https://github.com/limbenjamin/voce"&gt;voce theme&lt;/a&gt; &amp;lt;3. But there will now be more DevOps tooling, kubernetes, AWS serverelss posts as my work and play evolves more in this area.&lt;/p&gt;</content><category term="Blog"></category><category term="blog"></category></entry></feed>